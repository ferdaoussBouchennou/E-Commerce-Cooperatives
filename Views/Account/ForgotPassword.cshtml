@model E_Commerce_Cooperatives.Models.ViewModels.ForgotPasswordViewModel
@{
    ViewBag.Title = "Mot de passe oublié";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@Html.Partial("_Header")

<main style="min-height: 70vh; background-color: #F5F3EF; padding: 60px 0;">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-5 col-lg-4">
                <!-- Logo and Title -->
                <div class="text-center mb-4">
                    <img src="@Url.Content("~/Content/images/logo-coop.png")" alt="Cooporia" style="width: 80px; height: 40px; margin-bottom: 1rem;">
                    <h1 class="h2 fw-bold mb-2" style="color: #305C7D;">Mot de passe oublié</h1>
                    <p class="text-muted" style="color: #6c757d;">Nous vous enverrons un lien pour réinitialiser votre mot de passe</p>
                </div>

                <!-- Forgot Password Card -->
                <div class="card shadow-sm border-0" style="border-radius: 12px; background-color: white;">
                    <div class="card-body p-4">

                        @if (!ViewData.ModelState.IsValid)
                        {
                            <div class="alert alert-danger" role="alert">
                                @Html.ValidationSummary(false, "", new { @class = "text-danger mb-0" })
                            </div>
                        }

                        @if (ViewBag.SuccessMessage != null)
                        {
                            <div class="alert alert-success" role="alert">
                                @ViewBag.SuccessMessage
                            </div>
                        }

                        @using (Html.BeginForm("ForgotPassword", "Account", FormMethod.Post, new { @class = "needs-validation", novalidate = "novalidate" }))
                        {
                            @Html.AntiForgeryToken()

                            <!-- Email Field -->
                            <div class="mb-4">
                                @Html.LabelFor(m => m.Email, new { @class = "form-label fw-semibold", style = "color: #305C7D;" })
                                <div class="input-group" style="border-radius: 8px; overflow: hidden;">
                                    <span class="input-group-text bg-light border-0" style="border-top-left-radius: 8px; border-bottom-left-radius: 8px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#305C7D" class="bi bi-envelope" viewBox="0 0 16 16">
                                            <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"/>
                                        </svg>
                                    </span>
                                    @Html.TextBoxFor(m => m.Email, new { @class = "form-control border-0 bg-light", placeholder = "votre@email.com", type = "email", style = "border-top-right-radius: 8px; border-bottom-right-radius: 8px;" })
                                </div>
                                @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger small" })
                            </div>

                            <!-- Submit Button -->
                            <button type="submit" class="btn w-100 py-2 fw-semibold mb-3" style="background-color: #C06C50; color: white; border: none; border-radius: 8px;">
                                Envoyer le lien de réinitialisation
                            </button>

                            <!-- Back to Login -->
                            <div class="text-center">
                                <a href="@Url.Action("Login", "Account")" class="text-decoration-none small" style="color: #305C7D;">
                                    ← Retour à la connexion
                                </a>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

@Html.Partial("_Footer")

