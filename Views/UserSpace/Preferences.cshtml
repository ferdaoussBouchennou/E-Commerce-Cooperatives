@model E_Commerce_Cooperatives.Models.ViewModels.AccountPreferencesViewModel
@{
    ViewBag.Title = "Préférences du compte";
    Layout = "~/Views/UserSpace/_UserSpaceLayout.cshtml";
}

<div class="card shadow-sm" style="border-radius: 12px; border: none;">
    <div class="card-header" style="background: linear-gradient(135deg, #305C7D 0%, #4C7089 100%); color: white; border-radius: 12px 12px 0 0; padding: 1.5rem;">
        <h4 class="mb-0">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16" style="margin-right: 10px;">
                <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
                <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64.892-2.433 2.542-1.36 4.201l.51.927c.287.522.235 1.185-.135 1.662l-.601.98c-.18.31-.141.698.096.988l.293.324c.532.588 1.416.719 2.134.219l.288-.166c.351-.203.815-.099 1.092.224l.298.329c.584.646 1.582.787 2.374.343l.272-.148c.432-.234.97-.12 1.31.197l.27.235c.697.607 1.797.613 2.5.101l.287-.182c.312-.198.75-.072.998.145l.258.21c.775.63 1.884.57 2.593-.101l.3-.23c.433-.333.995-.245 1.34.15l.217.274c.532.67 1.456.787 2.136.247l.345-.23c.585-.39 1.36-.39 1.945 0l.345.23c.68.54 1.604.423 2.136-.247l.217-.274c.345-.395.907-.483 1.34-.15l.3.23c.709.671 1.818.731 2.593.101l.258-.21c.248-.217.686-.343.998-.145l.287.182c.703.512 1.803.506 2.5-.101l.27-.235c.34-.317.878-.431 1.31-.197l.272.148c.792.444 1.79.303 2.374-.343l.298-.329c.277-.323.741-.427 1.092-.224l.288.166c.718.5 1.602.369 2.134-.219l.293-.324c.231-.29.276-.678.096-.988l-.601-.98c-.37-.477-.422-1.14-.135-1.662l.51-.927c1.073-1.659.28-3.309-1.36-4.201l-.292.16a.873.873 0 0 1-1.255-.52l-.094-.319z"/>
            </svg>
            Préférences du compte
        </h4>
    </div>
    <div class="card-body p-4">
        @using (Html.BeginForm("Preferences", "UserSpace", FormMethod.Post))
        {
            @Html.AntiForgeryToken()

            <h5 class="mb-4" style="color: #305C7D;">Notifications</h5>

            <div class="form-check mb-3 p-3" style="background-color: #f8f9fa; border-radius: 8px;">
                @Html.CheckBoxFor(m => m.RecevoirNotificationsEmail, new { @class = "form-check-input" })
                @Html.LabelFor(m => m.RecevoirNotificationsEmail, "Recevoir des notifications par email", new { @class = "form-check-label", style = "color: #305C7D; font-weight: 500;" })
                <small class="form-text text-muted d-block mt-1">Recevez des notifications importantes concernant votre compte et vos commandes.</small>
            </div>

            <div class="form-check mb-3 p-3" style="background-color: #f8f9fa; border-radius: 8px;">
                @Html.CheckBoxFor(m => m.RecevoirOffresPromotionnelles, new { @class = "form-check-input" })
                @Html.LabelFor(m => m.RecevoirOffresPromotionnelles, "Recevoir des offres promotionnelles", new { @class = "form-check-label", style = "color: #305C7D; font-weight: 500;" })
                <small class="form-text text-muted d-block mt-1">Soyez informé des offres spéciales et promotions exclusives.</small>
            </div>

            <div class="form-check mb-4 p-3" style="background-color: #f8f9fa; border-radius: 8px;">
                @Html.CheckBoxFor(m => m.RecevoirNewsletters, new { @class = "form-check-input" })
                @Html.LabelFor(m => m.RecevoirNewsletters, "Recevoir des newsletters", new { @class = "form-check-label", style = "color: #305C7D; font-weight: 500;" })
                <small class="form-text text-muted d-block mt-1">Restez informé des dernières actualités et nouveautés.</small>
            </div>

            <hr class="my-4" style="border-color: #e0e0e0;">

            <h5 class="mb-4" style="color: #305C7D;">Paramètres généraux</h5>

            <div class="form-group mb-4">
                @Html.LabelFor(m => m.LanguePreferee, new { @class = "form-label fw-bold", style = "color: #305C7D;" })
                @Html.DropDownListFor(m => m.LanguePreferee, new SelectList(new[] {
                    new SelectListItem { Text = "Français", Value = "fr", Selected = Model.LanguePreferee == "fr" },
                    new SelectListItem { Text = "العربية", Value = "ar", Selected = Model.LanguePreferee == "ar" },
                    new SelectListItem { Text = "English", Value = "en", Selected = Model.LanguePreferee == "en" }
                }, "Value", "Text"), new { @class = "form-select", style = "border-radius: 8px;" })
                @Html.ValidationMessageFor(m => m.LanguePreferee, "", new { @class = "text-danger" })
            </div>

            <div class="d-flex justify-content-end mt-4">
                <button type="submit" class="btn" style="background-color: #305C7D; color: white; padding: 0.75rem 2rem; border-radius: 8px; font-weight: 600;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16" style="margin-right: 8px;">
                        <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                    </svg>
                    Enregistrer les préférences
                </button>
            </div>
        }
    </div>
</div>

